---
title: ä»€ä¹ˆæ˜¯é˜²æŠ–å’ŒèŠ‚æµï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿ
tag: åˆ†äº«å¢ƒ
created: 2021-11-22 16:22:12
cover: https://t.mwm.moe/pc/
summary: é˜²æŠ–å’ŒèŠ‚æµæ˜¯ä¼˜åŒ–é«˜é¢‘ç‡æ‰§è¡Œä»£ç çš„ä¸€ç§æ‰‹æ®µï¼Œç”¨äºé™ä½å›è°ƒæ‰§è¡Œé¢‘ç‡ï¼ŒèŠ‚çœè®¡ç®—èµ„æºã€‚é˜²æŠ–æ˜¯åœ¨ä¸€æ®µè¿ç»­æ“ä½œç»“æŸåï¼Œå¤„ç†å›è°ƒï¼Œåˆ©ç”¨clearTimeoutå’ŒsetTimeoutå®ç°ï¼›èŠ‚æµæ˜¯åœ¨ä¸€æ®µè¿ç»­æ“ä½œä¸­ï¼Œæ¯ä¸€æ®µæ—¶é—´åªæ‰§è¡Œä¸€æ¬¡ï¼Œé¢‘ç‡è¾ƒé«˜çš„äº‹ä»¶ä¸­ä½¿ç”¨æ¥æé«˜æ€§èƒ½ã€‚é˜²æŠ–åªä¼šè§¦å‘æœ€åä¸€æ¬¡äº‹ä»¶ï¼ŒèŠ‚æµåªæœ‰è¯·æ±‚æˆåŠŸå‘ç”Ÿå“åº”åæ‰ä¼šè§¦å‘ä¸‹ä¸€æ¬¡äº‹ä»¶ã€‚é˜²æŠ–é€‚ç”¨äºç™»å½•ã€å‘çŸ­ä¿¡ç­‰æŒ‰é’®é¿å…ç”¨æˆ·ç‚¹å‡»å¤ªå¿«ï¼Œè°ƒæ•´æµè§ˆå™¨çª—å£å¤§å°æ—¶ï¼Œæ–‡æœ¬ç¼–è¾‘å™¨å®æ—¶ä¿å­˜ç­‰åœºæ™¯ï¼›èŠ‚æµé€‚ç”¨äºscrolläº‹ä»¶ã€æµè§ˆå™¨æ’­æ”¾äº‹ä»¶ã€inputæ¡†å®æ—¶æœç´¢å¹¶å‘é€è¯·æ±‚å±•ç¤ºä¸‹æ‹‰åˆ—è¡¨ç­‰åœºæ™¯ã€‚
---

## ä»€ä¹ˆæ˜¯é˜²æŠ–å’ŒèŠ‚æµï¼Ÿ

æœ¬è´¨ä¸Šæ˜¯ä¼˜åŒ–é«˜é¢‘ç‡æ‰§è¡Œä»£ç çš„ä¸€ç§æ‰‹æ®µã€‚

åœ¨å‰ç«¯å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šéœ€è¦ç»‘å®šä¸€äº›æŒç»­è§¦å‘çš„äº‹ä»¶ï¼ŒğŸŒ°å¦‚`resize`ã€`scroll`ã€`keypress`ã€`mousemove` ç­‰äº‹ä»¶åœ¨è§¦å‘æ—¶ï¼Œä¼šä¸æ–­åœ°è°ƒç”¨ç»‘å®šåœ¨äº‹ä»¶ä¸Šçš„å›è°ƒå‡½æ•°ï¼Œæå¤§åœ°æµªè´¹èµ„æºï¼Œé™ä½å‰ç«¯æ€§èƒ½ï¼Œä½†æœ‰äº›æ—¶å€™æˆ‘ä»¬å¹¶ä¸å¸Œæœ›åœ¨äº‹ä»¶æŒç»­è§¦å‘çš„è¿‡ç¨‹ä¸­é‚£ä¹ˆé¢‘ç¹åœ°å»æ‰§è¡Œå‡½æ•°ï¼Œè¿™æ—¶å€™é˜²æŠ–å’ŒèŠ‚æµæ˜¯æ¯”è¾ƒå¥½çš„è§£å†³æ–¹æ¡ˆã€‚

### å®šä¹‰

- é˜²æŠ–: è§¦å‘é«˜é¢‘äº‹ä»¶ånç§’å†…å‡½æ•°åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœnç§’å†…é«˜é¢‘äº‹ä»¶å†æ¬¡è¢«è§¦å‘ï¼Œåˆ™é‡æ–°è®¡ç®—æ—¶é—´
- èŠ‚æµ: é«˜é¢‘äº‹ä»¶è§¦å‘ï¼Œä½†åœ¨nç§’å†…åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œæ‰€ä»¥èŠ‚æµä¼šç¨€é‡Šå‡½æ•°çš„æ‰§è¡Œé¢‘ç‡

## æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

ç›¸åŒç‚¹ï¼š

- éƒ½å¯ä»¥é€šè¿‡ä½¿ç”¨ `setTimeout` å®ç°
- ç›®çš„éƒ½æ˜¯ï¼Œé™ä½å›è°ƒæ‰§è¡Œé¢‘ç‡ï¼ŒèŠ‚çœè®¡ç®—èµ„æºã€‚

ä¸åŒç‚¹ï¼š

- é˜²æŠ–ï¼Œåœ¨ä¸€æ®µè¿ç»­æ“ä½œç»“æŸåï¼Œå¤„ç†å›è°ƒï¼Œåˆ©ç”¨`clearTimeout`å’Œ `setTimeout`å®ç°ã€‚
- èŠ‚æµï¼Œåœ¨ä¸€æ®µè¿ç»­æ“ä½œä¸­ï¼Œæ¯ä¸€æ®µæ—¶é—´åªæ‰§è¡Œä¸€æ¬¡ï¼Œé¢‘ç‡è¾ƒé«˜çš„äº‹ä»¶ä¸­ä½¿ç”¨æ¥æé«˜æ€§èƒ½ã€‚
- é˜²æŠ–åªä¼šè§¦å‘æœ€åä¸€æ¬¡äº‹ä»¶ï¼ŒèŠ‚æµåªæœ‰è¯·æ±‚æˆåŠŸå‘ç”Ÿå“åº”åæ‰ä¼šè§¦å‘ä¸‹ä¸€æ¬¡äº‹ä»¶

## å¦‚ä½•å®ç°ï¼Ÿ

#### é˜²æŠ–ï¼šæ¯æ¬¡è§¦å‘äº‹ä»¶æ—¶éƒ½å–æ¶ˆä¹‹å‰çš„å»¶æ—¶è°ƒç”¨æ–¹æ³•

```js title="é˜²æŠ–"
function debounce(fn) {
  // åˆ›å»ºä¸€ä¸ªæ ‡è®°ç”¨æ¥å­˜æ”¾å®šæ—¶å™¨çš„è¿”å›å€¼
  let timeout = null
  return function () {
    // æ¯å½“ç”¨æˆ·è¾“å…¥çš„æ—¶å€™æŠŠå‰ä¸€ä¸ª setTimeout clear æ‰
    clearTimeout(timeout)
    // ç„¶ååˆåˆ›å»ºä¸€ä¸ªæ–°çš„ setTimeout, è¿™æ ·å°±èƒ½ä¿è¯è¾“å…¥å­—ç¬¦åçš„ interval é—´éš”å†…å¦‚æœè¿˜æœ‰å­—ç¬¦è¾“å…¥çš„è¯ï¼Œå°±ä¸ä¼šæ‰§è¡Œ fn å‡½æ•°
    timeout = setTimeout(() => {
      fn.apply(this, arguments)
    }, 500)
  }
}

function sayHi() {
  console.log('é˜²æŠ–æˆåŠŸ')
}

const inp = document.getElementById('inp')
inp.addEventListener('input', debounce(sayHi)) // é˜²æŠ–
```

#### èŠ‚æµï¼šæ¯æ¬¡è§¦å‘äº‹ä»¶æ—¶éƒ½åˆ¤æ–­å½“å‰æ˜¯å¦æœ‰ç­‰å¾…æ‰§è¡Œçš„å»¶æ—¶å‡½æ•°

```js title="èŠ‚æµ"
function throttle(fn) {
  // é€šè¿‡é—­åŒ…ä¿å­˜ä¸€ä¸ªæ ‡è®°
  let canRun = true
  return function () {
    // åœ¨å‡½æ•°å¼€å¤´åˆ¤æ–­æ ‡è®°æ˜¯å¦ä¸ºtrueï¼Œä¸ä¸ºtrueåˆ™return
    if (!canRun)
      return
    // ç«‹å³è®¾ç½®ä¸ºfalse
    canRun = false
    // å°†å¤–éƒ¨ä¼ å…¥çš„å‡½æ•°çš„æ‰§è¡Œæ”¾åœ¨setTimeoutä¸­
    setTimeout(() => {
      fn.apply(this, arguments)
      // æœ€ååœ¨setTimeoutæ‰§è¡Œå®Œæ¯•åå†æŠŠæ ‡è®°è®¾ç½®ä¸ºtrue(å…³é”®)è¡¨ç¤ºå¯ä»¥æ‰§è¡Œä¸‹ä¸€æ¬¡å¾ªç¯äº†ã€‚
      // å½“å®šæ—¶å™¨æ²¡æœ‰æ‰§è¡Œçš„æ—¶å€™æ ‡è®°æ°¸è¿œæ˜¯falseï¼Œåœ¨å¼€å¤´è¢«returnæ‰
      canRun = true
    }, 500)
  }
}

function sayHi(e) {
  console.log(e.target.innerWidth, e.target.innerHeight)
}

window.addEventListener('resize', throttle(sayHi))
```

## åº”ç”¨åœºæ™¯

##### é˜²æŠ–

- ç™»å½•ã€å‘çŸ­ä¿¡ç­‰æŒ‰é’®é¿å…ç”¨æˆ·ç‚¹å‡»å¤ªå¿«ï¼Œä»¥è‡´äºå‘é€äº†å¤šæ¬¡è¯·æ±‚ï¼Œéœ€è¦é˜²æŠ–
- è°ƒæ•´æµè§ˆå™¨çª—å£å¤§å°æ—¶ï¼Œresize æ¬¡æ•°è¿‡äºé¢‘ç¹ï¼Œé€ æˆè®¡ç®—è¿‡å¤šï¼Œæ­¤æ—¶éœ€è¦ä¸€æ¬¡åˆ°ä½ï¼Œå°±ç”¨åˆ°äº†é˜²æŠ–
- æ–‡æœ¬ç¼–è¾‘å™¨å®æ—¶ä¿å­˜ï¼Œå½“æ— ä»»ä½•æ›´æ”¹æ“ä½œä¸€ç§’åè¿›è¡Œä¿å­˜

##### èŠ‚æµ

- scroll äº‹ä»¶ï¼Œæ¯éš”ä¸€ç§’è®¡ç®—ä¸€æ¬¡ä½ç½®ä¿¡æ¯ç­‰
- æµè§ˆå™¨æ’­æ”¾äº‹ä»¶ï¼Œæ¯ä¸ªä¸€ç§’è®¡ç®—ä¸€æ¬¡è¿›åº¦ä¿¡æ¯ç­‰
- input æ¡†å®æ—¶æœç´¢å¹¶å‘é€è¯·æ±‚å±•ç¤ºä¸‹æ‹‰åˆ—è¡¨ï¼Œæ²¡éš”ä¸€ç§’å‘é€ä¸€æ¬¡è¯·æ±‚ (ä¹Ÿå¯åšé˜²æŠ–)

## å‚è€ƒæ–‡æ¡£

[Advanced-Frontend/Daily-Interview-Question](https://github.com/Advanced-Frontend/Daily-Interview-Question)

[JSèŠ‚æµå’Œé˜²æŠ–](https://blog.csdn.net/MichelleZhai/article/details/118343787)
